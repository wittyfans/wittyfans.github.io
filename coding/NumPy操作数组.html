<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="python,numpy," />





  <link rel="alternate" href="/atom.xml" title="Scott Zhang" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="å¯¹æ•°ç»„çš„æ“ä½œæ˜¯ NumPy ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œäº†è§£è¿™äº›å†…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ çš„æ•ˆç‡äº‹åŠåŠŸå€ã€‚">
<meta name="keywords" content="python,numpy">
<meta property="og:type" content="article">
<meta property="og:title" content="NumPyæ“ä½œæ•°ç»„">
<meta property="og:url" content="http://wittyfans.com/coding/NumPyæ“ä½œæ•°ç»„.html">
<meta property="og:site_name" content="Scott Zhang">
<meta property="og:description" content="å¯¹æ•°ç»„çš„æ“ä½œæ˜¯ NumPy ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œäº†è§£è¿™äº›å†…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ çš„æ•ˆç‡äº‹åŠåŠŸå€ã€‚">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://i.loli.net/2019/02/08/5c5d6f5855efe.png">
<meta property="og:image" content="https://i.loli.net/2019/02/09/5c5e8e1bb9f55.jpg">
<meta property="og:image" content="https://i.loli.net/2019/02/09/5c5eea638e62f.jpeg">
<meta property="og:updated_time" content="2019-02-09T16:24:25.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NumPyæ“ä½œæ•°ç»„">
<meta name="twitter:description" content="å¯¹æ•°ç»„çš„æ“ä½œæ˜¯ NumPy ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œäº†è§£è¿™äº›å†…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ çš„æ•ˆç‡äº‹åŠåŠŸå€ã€‚">
<meta name="twitter:image" content="https://i.loli.net/2019/02/08/5c5d6f5855efe.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 'undefined',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wittyfans.com/coding/NumPyæ“ä½œæ•°ç»„.html"/>





  <title> NumPyæ“ä½œæ•°ç»„ | Scott Zhang </title>
  <script type="text/javascript" src="/js/src/love.js"></script>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Scott Zhang</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">å­¦åˆ™ä¸å›º,çŸ¥åˆ™ä¸æƒ‘</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://wittyfans.com/coding/NumPyæ“ä½œæ•°ç»„.html">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Scott Zhang">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/uploads/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Scott Zhang">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Scott Zhang" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                NumPyæ“ä½œæ•°ç»„
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-02-09T23:00:40+08:00">
                2019-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/coding/" itemprop="url" rel="index">
                    <span itemprop="name">coding</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          
             <span id="/coding/NumPyæ“ä½œæ•°ç»„.html" class="leancloud_visitors" data-flag-title="NumPyæ“ä½œæ•°ç»„">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•° </span>
               <span class="leancloud-visitors-count"></span>
               <span>â„ƒ</span>
              </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>å¯¹æ•°ç»„çš„æ“ä½œæ˜¯ <em>NumPy</em> ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œäº†è§£è¿™äº›å†…ç½®çš„æ–¹æ³•ï¼Œå¯ä»¥è®©ä½ çš„æ•ˆç‡äº‹åŠåŠŸå€ã€‚</p>
</blockquote>
<a id="more"></a>
<h1 id="æ“ä½œæ•°ç»„"><a href="#æ“ä½œæ•°ç»„" class="headerlink" title="æ“ä½œæ•°ç»„"></a>æ“ä½œæ•°ç»„</h1><h2 id="np-meshgridæ–¹æ³•"><a href="#np-meshgridæ–¹æ³•" class="headerlink" title="np.meshgridæ–¹æ³•"></a>np.meshgridæ–¹æ³•</h2><p>å¦‚æœä½ ç»™meshgridä¸¤ä¸ªä¸€ä½æ•°ç»„ï¼ŒAåƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ğ‘1,ğ‘2,ğ‘3]</span><br></pre></td></tr></table></figure>
<p>Båƒè¿™æ ·:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ğ‘1,ğ‘2,ğ‘3]</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä½ è¿è¡Œ <em>np.meshgrid(A,B)</em>,é‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªåµŒå¥—æ•°ç»„ï¼Œé‡Œé¢åˆ†åˆ«æ˜¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[ğ‘1,ğ‘1,ğ‘1],[ğ‘2,ğ‘2,ğ‘2],[ğ‘3,ğ‘3,ğ‘3]]</span><br></pre></td></tr></table></figure>
<p>å’Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[ğ‘1,ğ‘1,ğ‘1],[ğ‘2,ğ‘2,ğ‘2],[ğ‘3,ğ‘3,ğ‘3]]</span><br></pre></td></tr></table></figure>
<p>By adding these two arrays together, we can create the 2D array containing, as its elements, every combination of sums between the numbers in the original elements. Arrays such as linspace and arange are typically used to constuct N-D arrays used to plot in 3 dimensions.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import plotly.plotly as py</span><br><span class="line">import plotly.graph_objs as go</span><br><span class="line"></span><br><span class="line">x = np.arange(-10, 10, 0.4)</span><br><span class="line">y = np.arange(-10, 10, 0.4)</span><br><span class="line">XX, YY = np.meshgrid(x, y)</span><br><span class="line">ZZ = np.sin(XX**2 + YY**2) / (XX**2 + YY**2)</span><br><span class="line"></span><br><span class="line">lines = []</span><br><span class="line">line_marker = dict(color=&apos;#0066FF&apos;, width=2)</span><br><span class="line">for i, j, k in zip(XX, YY, ZZ):</span><br><span class="line">    lines.append(go.Scatter3d(x=i, y=j, z=k, mode=&apos;lines&apos;, line=line_marker))</span><br><span class="line"></span><br><span class="line">layout = go.Layout(</span><br><span class="line">    title=&apos;Wireframe with Meshgrid&apos;,</span><br><span class="line">    showlegend=False</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">fig = go.Figure(data=lines, layout=layout)</span><br><span class="line">py.iplot(fig, filename=&apos;numpy-arange-to-meshgrid&apos;)</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2019/02/08/5c5d6f5855efe.png" alt="ç»˜å›¾è¯·é…åˆplotly"></p>
<h2 id="np-whereæ–¹æ³•"><a href="#np-whereæ–¹æ³•" class="headerlink" title="np.whereæ–¹æ³•"></a>np.whereæ–¹æ³•</h2><p>å‡è®¾ä½ æœ‰ä¸‰ä¸ªæ•°ç»„ï¼Œç¬¬ä¸‰ä¸ªæ•°ç»„å­˜çš„æ˜¯å¸ƒå°”å€¼ï¼Œä½ æƒ³è¦æŒ‰ç…§æ¡ä»¶å»å‰ä¸¤ä¸ªæ•°ç»„ä¸­é€‰å€¼ï¼Œå¦‚æœç¬¬ä¸‰ä¸ªæ•°ç»„ä¸­çš„å€¼æ˜¯çœŸï¼Œé‚£ä¹ˆå°±å»ç¬¬ä¸€ä¸ªæ•°ç»„ä¸­æ‹¿å¯¹åº”çš„å€¼ï¼Œå¦åˆ™å°±æ‹¿ç¬¬äºŒä¸ªæ•°ç»„ä¸­çš„å€¼ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<em>zip</em> å‡½æ•°å®ç°è¿™ä¸€éœ€æ±‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">xarr = np.array([1.1, 1.2, 1.3, 1.4, 1.5])</span><br><span class="line"></span><br><span class="line">yarr = np.array([2.1, 2.2, 2.3, 2.4, 2.5])</span><br><span class="line"></span><br><span class="line">cond = np.array([True, False, True, True, False])</span><br><span class="line"></span><br><span class="line">result = [(x if contidion else y) for x,y,contidion in zip(xarr,yarr,cond)]</span><br><span class="line">result</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶è¿™æ ·å¯ä»¥å®ç°ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼š</p>
<ol>
<li>å¦‚æœæ•°ç»„å¾ˆå¤§å°±ä¼šæœ‰æ€§èƒ½é—®é¢˜</li>
<li>å¤šé‡æ•°ç»„æ— æ³•è¿™æ ·æ“ä½œ</li>
</ol>
<p>åˆ©ç”¨ <em>np.where</em> æ–¹æ³•ï¼Œå°±å¯ä»¥ç®€å•çš„å®ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = np.where(cond,xarr,yarr)</span><br></pre></td></tr></table></figure>
<p><em>np.where</em> ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«äº†ä½ éœ€è¦çš„å€¼ã€‚</p>
<p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå°†ä¸€å †æ•°ä¸­çš„å€¼è¿›è¡Œæ›¿æ¢ï¼Œæ­£æ•°å˜æˆ2ï¼Œè´Ÿæ•°å˜æˆ-2:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">arr = np.random.randn(2, 10)</span><br><span class="line">arr</span><br><span class="line"></span><br><span class="line"># out</span><br><span class="line">array([[-0.81110748,  0.68433723,  0.52473733, -0.41852741, -2.84401244,</span><br><span class="line">        -1.68747418, -0.11169401, -1.10101844, -0.8750002 ,  1.18884515],</span><br><span class="line">       [-0.30515971,  0.60605408,  0.16320091, -0.99053775, -0.76669183,</span><br><span class="line">        -0.29594746,  0.33500369,  0.28612921, -0.93350166, -0.67301814]])</span><br><span class="line"></span><br><span class="line">np.where(arr&lt;0,-2,2)</span><br><span class="line"># out</span><br><span class="line">array([[-2,  2,  2, -2, -2, -2, -2, -2, -2,  2],</span><br><span class="line">       [-2,  2,  2, -2, -2, -2,  2,  2, -2, -2]])</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡å°†arræœ¬èº«ä¼ è¿›å»ï¼Œå¯ä»¥æŒ‡ä¿®æ”¹æŸä¸€éƒ¨åˆ†çš„å€¼ï¼Œæ¯”å¦‚ä¸‹é¢æ˜¯æŒ‡å°†è´Ÿæ•°ä¿®æ”¹ä¸º-2ï¼Œæ­£æ•°ä¸å˜:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">np.where(arr&lt;0,-2,arr)</span><br><span class="line"># out</span><br><span class="line"></span><br><span class="line">array([[-2.        ,  0.68433723,  0.52473733, -2.        , -2.        ,</span><br><span class="line">        -2.        , -2.        , -2.        , -2.        ,  1.18884515],</span><br><span class="line">       [-2.        ,  0.60605408,  0.16320091, -2.        , -2.        ,</span><br><span class="line">        -2.        ,  0.33500369,  0.28612921, -2.        , -2.        ]])</span><br></pre></td></tr></table></figure>
<h2 id="æ•°å­¦æ–¹æ³•"><a href="#æ•°å­¦æ–¹æ³•" class="headerlink" title="æ•°å­¦æ–¹æ³•"></a>æ•°å­¦æ–¹æ³•</h2><p><em>Numpy</em> æ”¯æŒå¾ˆå¤šå¸¸ç”¨çš„æ•°å­¦æ–¹æ³•ï¼Œæ¯”å¦‚å¯¹æ•°ç»„æ±‚å’Œï¼Œç®—å¹³å‡å€¼ï¼Œç­‰ç­‰ï¼Œå¯ä»¥ç›´æ¥å¯¹æ•°ç»„å¯¹è±¡è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <em>np.method</em> çš„æ–¹å¼è°ƒç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr = np.random.rand(2,2)*10</span><br><span class="line">arr</span><br><span class="line">out:</span><br><span class="line">array([[ 0.89779239,  8.62581317],</span><br><span class="line">       [ 3.48522587,  5.17990087]])</span><br></pre></td></tr></table></figure>
<h2 id="å¹³å‡å€¼"><a href="#å¹³å‡å€¼" class="headerlink" title="å¹³å‡å€¼"></a>å¹³å‡å€¼</h2><p><em>arr.mean()</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4.5471830734485419</span><br></pre></td></tr></table></figure>
<p>å¯¹æ¨ªå‘æ•°å€¼æ±‚å¹³å‡ï¼š</p>
<p><em>arr.mean(axis=1)</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([ 4.76180278,  4.33256337])</span><br></pre></td></tr></table></figure>
<p>çºµå‘æ•°æ±‚å¹³å‡ï¼š</p>
<p><em>arr.mean(axis=0)</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array([ 2.19150913,  6.90285702])</span><br></pre></td></tr></table></figure>
<h2 id="æ±‚å’Œ"><a href="#æ±‚å’Œ" class="headerlink" title="æ±‚å’Œ"></a>æ±‚å’Œ</h2><p><em>arr.sum()</em></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">18.188732293794168</span><br></pre></td></tr></table></figure>
<p>æ±‚å’Œå‡½æ•°ä¹Ÿå¯ä»¥ç”¨ <em>axis</em> æ¥æŒ‡å®šè¡Œæˆ–åˆ—æ±‚å’Œã€‚</p>
<blockquote>
<p>æ›´å¤šæ–¹æ³•è¯·å‚è€ƒé™„å½•ã€‚</p>
</blockquote>
<h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><p><img src="https://i.loli.net/2019/02/09/5c5e8e1bb9f55.jpg" alt="math_funcs.jpg"></p>
<h2 id="å¸ƒå°”æ•°ç»„æ–¹æ³•"><a href="#å¸ƒå°”æ•°ç»„æ–¹æ³•" class="headerlink" title="å¸ƒå°”æ•°ç»„æ–¹æ³•"></a>å¸ƒå°”æ•°ç»„æ–¹æ³•</h2><p>å¯ä»¥å¯¹ä¸€ä¸ªåŒ…å«Trueå’ŒFalseçš„å¸ƒå°”æ•°ç»„æ‰§è¡Œ <em>sum</em> è¿ç®—ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.random.randn(100)</span><br><span class="line">(arr &gt; 0).sum()</span><br><span class="line"></span><br><span class="line">49</span><br></pre></td></tr></table></figure>
<p><em>bools.any()</em> æµ‹è¯•æ•°ç»„ä¸­æ˜¯å¦æœ‰ <em>True</em> çš„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">bools = np.array([False])</span><br><span class="line">bools.any()</span><br><span class="line"></span><br><span class="line"># è¾“å‡º</span><br><span class="line">False</span><br></pre></td></tr></table></figure>
<p><em>bools.all()</em> æµ‹è¯•æ‰€æœ‰å€¼æ˜¯å¦éƒ½æ˜¯ <em>True</em>.</p>
<h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><p>NumPy çš„æ•°ç»„æ’åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.random.randn(6)</span><br><span class="line">arr.sort()</span><br></pre></td></tr></table></figure>
<p><em>sort</em> æ˜¯ <em>in-place</em> çš„ï¼Œ ä¹Ÿå°±æ˜¯ä¼šä¿®æ”¹åŸæ¥æ•°ç»„çš„æ•°æ®ã€‚</p>
<h2 id="Uniqueå‡½æ•°"><a href="#Uniqueå‡½æ•°" class="headerlink" title="Uniqueå‡½æ•°"></a>Uniqueå‡½æ•°</h2><p>uniqueå‡½æ•°è¿”å›æ’åºåçš„ã€æ•°ç»„ä¸­å”¯ä¸€çš„å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = np.array([&apos;Bob&apos;, &apos;Joe&apos;, &apos;Will&apos;, &apos;Bob&apos;, &apos;Will&apos;, &apos;Joe&apos;, &apos;Joe&apos;])</span><br><span class="line">np.unique(names)</span><br></pre></td></tr></table></figure>
<p>å®ƒçš„ä½œç”¨å’Œä¸‹é¢çš„ä»£ç å·®ä¸å¤š:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sorted(set(names))</span><br></pre></td></tr></table></figure>
<h2 id="in1då‡½æ•°"><a href="#in1då‡½æ•°" class="headerlink" title="in1då‡½æ•°"></a>in1då‡½æ•°</h2><p>in1då‡½æ•°æµ‹è¯•ä¸€ä¸ªæ•°ç»„ä¸­çš„å€¼ï¼Œæ˜¯å¦éƒ½åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå¦‚æœåœ¨å°±è¿”å›Trueï¼Œä¸å†è¿”å›False:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">values = np.array([1,2,3])</span><br><span class="line">np.in1d(values,[1])</span><br><span class="line"># </span><br><span class="line">arrray([True,False,False])</span><br></pre></td></tr></table></figure>
<p>æ›´å¤šå‡½æ•°è¯·å‚è€ƒä¸‹å›¾ï¼š</p>
<p><img src="https://i.loli.net/2019/02/09/5c5eea638e62f.jpeg" alt="array_set_operations.jpeg"></p>
<h1 id="NumPyæ•°æ®æŒä¹…åŒ–ã€éšæœºæ•°ç”Ÿæˆ"><a href="#NumPyæ•°æ®æŒä¹…åŒ–ã€éšæœºæ•°ç”Ÿæˆ" class="headerlink" title="NumPyæ•°æ®æŒä¹…åŒ–ã€éšæœºæ•°ç”Ÿæˆ"></a>NumPyæ•°æ®æŒä¹…åŒ–ã€éšæœºæ•°ç”Ÿæˆ</h1><p>NumPyå¯ä»¥ä»ç£ç›˜è¯»å–æ•°æ®ï¼Œä¹Ÿå¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°æœ¬åœ°ã€‚è¿™ä¸ªéƒ¨åˆ†åªè®²ä¸€äº›åŸºæœ¬çš„å†…å®¹ï¼Œå› ä¸ºå¤§å®¶å¯èƒ½æ›´å–œæ¬¢ç”¨ <em>Pandas</em> æ¥å¯¼å…¥æ•°æ®ã€‚</p>
<p>åˆ†åˆ«ä»‹ç»ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<ul>
<li><em>np.save</em></li>
<li><em>np.load</em></li>
</ul>
<h2 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arrange(10)</span><br><span class="line">np.save(&apos;/Users/wittyfans/Desktop/data&apos;,arr)</span><br></pre></td></tr></table></figure>
<h2 id="è¯»å–"><a href="#è¯»å–" class="headerlink" title="è¯»å–"></a>è¯»å–</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">saved = np.load(&apos;/Users/wittyfans/Desktop/data.npy&apos;)</span><br><span class="line">saved</span><br><span class="line"># è¾“å‡º</span><br><span class="line"></span><br><span class="line">array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br></pre></td></tr></table></figure>
<h2 id="æ‰“åŒ…å‚¨å­˜"><a href="#æ‰“åŒ…å‚¨å­˜" class="headerlink" title="æ‰“åŒ…å‚¨å­˜"></a>æ‰“åŒ…å‚¨å­˜</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.savez(&apos;path&apos;,a=arr,b=arr)</span><br></pre></td></tr></table></figure>
<h2 id="è¯»å–æ‰“åŒ…æ–‡ä»¶"><a href="#è¯»å–æ‰“åŒ…æ–‡ä»¶" class="headerlink" title="è¯»å–æ‰“åŒ…æ–‡ä»¶"></a>è¯»å–æ‰“åŒ…æ–‡ä»¶</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arch = np.load(&apos;path.npz&apos;)</span><br><span class="line">arch[&apos;a&apos;] # é€šè¿‡ç±»ä¼¼dictçš„æ–¹å¼æ¥è¯»å–æ•°æ®</span><br><span class="line">arch[&apos;b&apos;]</span><br></pre></td></tr></table></figure>
<h2 id="éšæœºç”Ÿæˆ"><a href="#éšæœºç”Ÿæˆ" class="headerlink" title="éšæœºç”Ÿæˆ"></a>éšæœºç”Ÿæˆ</h2><p>ç”Ÿæˆç¬¦åˆæ­£æ€åˆ†å¸ƒçš„4x4æ•°ç»„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">samples = np.random.normal(size=(4, 4))</span><br><span class="line">samples</span><br><span class="line"># è¾“å‡º</span><br><span class="line"></span><br><span class="line">array([[ 0.5732,</span><br><span class="line"></span><br><span class="line">0.1933, 0.4429, 1.2796],</span><br><span class="line"></span><br><span class="line">[ 0.575 , [-0.5367, [ 0.1525,</span><br><span class="line"></span><br><span class="line">0.4339, -0.7658, -1.237 ],</span><br><span class="line"></span><br><span class="line">1.8545, -0.92 , -0.1082],</span><br><span class="line"></span><br><span class="line">0.9435, -1.0953, -0.144 ]])</span><br></pre></td></tr></table></figure>
<p>Pythonå†…ç½®çš„ <em>random</em> æ¨¡å—ï¼Œç›¸æ¯”äºNumPyè¦æ…¢ä¸€ä¸ªæ•°é‡çº§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from random import normalvariate</span><br><span class="line"></span><br><span class="line">N = 1000000</span><br><span class="line"></span><br><span class="line">%timeit samples = [normalvariate(0, 1) for _ in range(N)] 1.77 s +- 126 ms per loop (mean +- std. dev. of 7 runs, 1 loop each)</span><br><span class="line"></span><br><span class="line">%timeit np.random.normal(size=N) 61.7 ms +- 1.32 ms per loop (mean +- std. dev. of 7 runs, 10 loops each)</span><br></pre></td></tr></table></figure>
<p>è¿™äº›éšæœºæ•°éƒ½æ˜¯æ ¹æ®ç§å­å³ <em>seed</em> ç”Ÿæˆçš„,å¦‚æœæ¯æ¬¡ç”Ÿæˆéšæœºæ•°çš„æ—¶å€™seedéƒ½ä¸å˜ï¼Œé‚£ä¹ˆæ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°éƒ½ä¼šæ˜¯ä¸€æ ·çš„ã€‚é»˜è®¤NumPyä¼šæ ¹æ®æ—¶é—´æ¥æ›´æ”¹seedï¼Œè¿™æ ·æ¯æ¬¡æˆ‘ä»¬å°±å¯ä»¥æ‹¿åˆ°ä¸ä¸€æ ·çš„éšæœºæ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># éšæœºäº§ç”Ÿä¸€ä¸ªæ•°æ®ï¼Œæ­¤éšæœºæ•°æ˜¯å˜åŠ¨çš„</span><br><span class="line">print(np.random.random())</span><br><span class="line">print(&apos;--åˆ†å‰²çº¿0--&apos;)</span><br><span class="line"># è®¾ç½®éšæœºæ•°ç§å­</span><br><span class="line">np.random.seed(1)</span><br><span class="line"># äº§ç”Ÿä¸€ç»„é¡ºåºçš„å›ºå®šçš„æ•°æ•°æ®</span><br><span class="line">for _ in range(5):</span><br><span class="line">    print(np.random.random())</span><br><span class="line"># æ­¤æ—¶ï¼Œå¦‚æœå†ç”Ÿæˆä¸€ä¸ªæ•°æ®ï¼Œè¯¥æ•°æ®ä¹Ÿæ˜¯å›ºå®šçš„</span><br><span class="line">print(&apos;--åˆ†å‰²çº¿1--&apos;)</span><br><span class="line">print(np.random.random())</span><br><span class="line"># è¯´æ˜æˆ‘ä»¬è®¾ç½®çš„ç§å­ä¼šä¸€ç›´æœ‰æ•ˆï¼Œé™¤éæˆ‘ä»¬å†æ¬¡è®¾ç½®</span><br><span class="line">np.random.seed()</span><br><span class="line">print(&apos;--åˆ†å‰²çº¿2--&apos;)</span><br><span class="line"># æ­¤éšæœºæ•°æ˜¯å˜åŠ¨çš„</span><br><span class="line">print(np.random.random())</span><br></pre></td></tr></table></figure>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul>
<li><a href="https://www.jianshu.com/p/7f4f2303a125" target="_blank" rel="noopener">æ•°æ®åˆ†æå­¦ä¹ ç¬”è®°</a></li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>èµ</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/uploads/wechat-reward-image.png" alt="Scott Zhang WeChat Pay"/>
          <p>å¾®ä¿¡æ‰“èµ</p>
        </div>
      
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/python/" rel="tag"># python</a>
          
            <a href="/tags/numpy/" rel="tag"># numpy</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/coding/Numpy-Universal-Functions.html" rel="next" title="Numpy Universal Functions">
                <i class="fa fa-chevron-left"></i> Numpy Universal Functions
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/coding/Pandas-ç»Ÿè®¡å·¥ä½œæ•°æ®.html" rel="prev" title="Pandas ç»Ÿè®¡å·¥ä½œæ•°æ®">
                Pandas ç»Ÿè®¡å·¥ä½œæ•°æ® <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Scott Zhang" />
          <p class="site-author-name" itemprop="name">Scott Zhang</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">66</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">73</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/wittyfans" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Github
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://music.163.com/#/user/event?id=5842815" target="_blank" title="Netease Music">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Netease Music
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.instagram.com/wittyfans/" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Instagram
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/wittyfans" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#æ“ä½œæ•°ç»„"><span class="nav-number">1.</span> <span class="nav-text">æ“ä½œæ•°ç»„</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#np-meshgridæ–¹æ³•"><span class="nav-number">1.1.</span> <span class="nav-text">np.meshgridæ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#np-whereæ–¹æ³•"><span class="nav-number">1.2.</span> <span class="nav-text">np.whereæ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ•°å­¦æ–¹æ³•"><span class="nav-number">1.3.</span> <span class="nav-text">æ•°å­¦æ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¹³å‡å€¼"><span class="nav-number">1.4.</span> <span class="nav-text">å¹³å‡å€¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ±‚å’Œ"><span class="nav-number">1.5.</span> <span class="nav-text">æ±‚å’Œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#é™„å½•"><span class="nav-number">1.6.</span> <span class="nav-text">é™„å½•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¸ƒå°”æ•°ç»„æ–¹æ³•"><span class="nav-number">1.7.</span> <span class="nav-text">å¸ƒå°”æ•°ç»„æ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ’åº"><span class="nav-number">1.8.</span> <span class="nav-text">æ’åº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Uniqueå‡½æ•°"><span class="nav-number">1.9.</span> <span class="nav-text">Uniqueå‡½æ•°</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#in1då‡½æ•°"><span class="nav-number">1.10.</span> <span class="nav-text">in1då‡½æ•°</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPyæ•°æ®æŒä¹…åŒ–ã€éšæœºæ•°ç”Ÿæˆ"><span class="nav-number">2.</span> <span class="nav-text">NumPyæ•°æ®æŒä¹…åŒ–ã€éšæœºæ•°ç”Ÿæˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å­˜å‚¨"><span class="nav-number">2.1.</span> <span class="nav-text">å­˜å‚¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¯»å–"><span class="nav-number">2.2.</span> <span class="nav-text">è¯»å–</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ‰“åŒ…å‚¨å­˜"><span class="nav-number">2.3.</span> <span class="nav-text">æ‰“åŒ…å‚¨å­˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è¯»å–æ‰“åŒ…æ–‡ä»¶"><span class="nav-number">2.4.</span> <span class="nav-text">è¯»å–æ‰“åŒ…æ–‡ä»¶</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#éšæœºç”Ÿæˆ"><span class="nav-number">2.5.</span> <span class="nav-text">éšæœºç”Ÿæˆ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒ"><span class="nav-number">3.</span> <span class="nav-text">å‚è€ƒ</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Scott Zhang</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	




  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("7sScl0n1AlEtVDaUHuXzxPqc-gzGzoHsz", "qKXpoqGbK1sdFYMiik7Evuan");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


</body>
</html>
